#import global_variables
#import bso_output
#import bso_build

function build_temp_script() {
    local start_script=$1
    build $start_script -o $_temp_script --with-symbols
}

function run_temp_script() {
    bash $_temp_script $@ 2>&1
}

function run() {
    local start_script=$1  

    case $2 in 
        --error-report )
            _error_report=true
        ;;
    esac  

    build_temp_script "$start_script"
    script_output=$(run_temp_script)

    if ! $_error_report ; then
        show_script_output "$script_output"
    else
        show_error_report "$script_output"
    fi
}
